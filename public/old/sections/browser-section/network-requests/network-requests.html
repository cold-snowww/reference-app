<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã</title>
    <link rel="stylesheet" href="../../../css/common-styles.css">
    <link rel="stylesheet" href="../../../css/content-styles.css">
</head>
<body>

    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞—á–∞–ª–æ -->
    <!-- 
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
        <pre data-formatted="js">code</pre>
        —Å–Ω–∏–ø–ø–µ—Ç - pref
        
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
         <span data-reference="–°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">i</span>
        —Å–Ω–∏–ø–ø–µ—Ç - inf

        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∞ - subh
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ - text
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–π —Å—Å—ã–ª–∫–∏ - olink
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –º–∞—Ä–∫–µ—Ä–∞ - mlink
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - coimg
    -->     
    
    <h2 class="content-header">–°–µ—Ç–µ–≤—ã–µ –∑–∞–ø—Ä–æ—Å—ã</h2>

    <h3 class="content-subheader">Fetch
        <a href="https://learn.javascript.ru/fetch#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>    
    <h3 class="content-subheader">–ó–∞–ø—Ä–æ—Å—ã GET:</h3>
    <pre data-formatted="js">
    –ó–∞–ø—Ä–æ—Å—ã GET:

    let response = await fetch(url, options);

    response.status                         <span data-reference="HTTP-–∫–æ–¥ –æ—Ç–≤–µ—Ç–∞.">i</span>
    response.ok                             <span data-reference="true, –µ—Å–ª–∏ —Å—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ –≤ –¥–∏–∞–ø–∞–∑–æ–Ω–µ 200-299.">i</span>
    response.headers                        <span data-reference="–ü–æ—Ö–æ–∂–∏–π –Ω–∞ Map –æ–±—ä–µ–∫—Ç —Å HTTP-–∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏.">i</span>

    response.text()                         <span data-reference="–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –∫–∞–∫ –æ–±—ã—á–Ω—ã–π —Ç–µ–∫—Å—Ç.">i</span>
    response.json()                         <span data-reference="–ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤—ã–≤–∞–µ—Ç –æ—Ç–≤–µ—Ç –≤ JSON-–æ–±—ä–µ–∫—Ç.">i</span>
    response.formData()                     <span data-reference="–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –∫–∞–∫ –æ–±—ä–µ–∫—Ç FormData (–∫–æ–¥–∏—Ä–æ–≤–∫–∞ form/multipart).">i</span>
    response.blob()                         <span data-reference="–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ–±—ä–µ–∫—Ç –∫–∞–∫ Blob (–±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ —Å —Ç–∏–ø–æ–º).">i</span>
    response.arrayBuffer()                  <span data-reference="–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—Ç–≤–µ—Ç –∫–∞–∫ ArrayBuffer (–Ω–∏–∑–∫–æ—É—Ä–æ–≤–Ω–µ–≤—ã–µ –±–∏–Ω–∞—Ä–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ).">i</span>
    
    let result = await response.json();</pre>

    <h3 class="content-subheader">–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞ POST:</h3>
    <pre data-formatted="js">
    let response = await fetch(url, {
        method: 'POST',
        headers: {
        'Content-Type': 'application/json;charset=utf-8'    <span data-reference="–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Blob —Ç–∏–ø —É–∫–∞–∑—ã–≤–∞—Ç—å –Ω–µ –Ω–∞–¥–æ">i</span>
        },
        body: JSON.stringify(object)                        <span data-reference="–ï—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Blob —Ç–æ body: blob">i</span>
    });</pre>

    <h3 class="content-subheader">FormData
        <a href="https://learn.javascript.ru/formdata#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    let formData = new FormData([form]);

    let response = await fetch('/url', {        <span data-reference="–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö —Ñ–æ—Ä–º—ã (–∑–∞–≥–æ–ª–æ–≤–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é Content-Type: form/multipart) —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º fetch, —Ñ–æ—Ä–º–∞ –º–æ–∂–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ñ–∞–π–ª—ã, —Ç–µ–∫—Å—Ç –∏ —Ç.–¥.">i</span>
        method: 'POST',
        body: formData
    });
    
    formData.append(name, value)                <span data-reference="–¥–æ–±–∞–≤–ª—è–µ—Ç –∫ –æ–±—ä–µ–∫—Ç—É –ø–æ–ª–µ —Å –∏–º–µ–Ω–µ–º name –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º value">i</span>
    formData.append(name, blob, fileName)       <span data-reference="–¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–µ, –∫–∞–∫ –±—É–¥—Ç–æ –≤ —Ñ–æ—Ä–º–µ –∏–º–µ–µ—Ç—Å—è —ç–ª–µ–º–µ–Ω—Ç input type='file', —Ç—Ä–µ—Ç–∏–π –∞—Ä–≥—É–º–µ–Ω—Ç fileName —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞ (–Ω–µ –∏–º—è –ø–æ–ª—è —Ñ–æ—Ä–º—ã), –∫–∞–∫ –±—É–¥—Ç–æ —ç—Ç–æ –∏–º—è –∏–∑ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">i</span>
    formData.set(name, value)                   <span data-reference="—É–¥–∞–ª—è–µ—Ç –≤—Å–µ —É–∂–µ –∏–º–µ—é—â–∏–µ—Å—è –ø–æ–ª—è —Å –∏–º–µ–Ω–µ–º name –∏ —Ç–æ–ª—å–∫–æ –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–µ">i</span>
    formData.set(name, blob, fileName)          <span data-reference="—É–¥–∞–ª—è–µ—Ç –≤—Å–µ —É–∂–µ –∏–º–µ—é—â–∏–µ—Å—è –ø–æ–ª—è —Å –∏–º–µ–Ω–µ–º name, –∑–∞—Ç–µ–º –¥–æ–±–∞–≤–ª—è–µ—Ç –Ω–æ–≤–æ–µ —Ç–∏–ø–∞ input type='file'">i</span>
    formData.delete(name)                       <span data-reference="—É–¥–∞–ª—è–µ—Ç –ø–æ–ª–µ —Å –∑–∞–¥–∞–Ω–Ω—ã–º –∏–º–µ–Ω–µ–º name">i</span>
    formData.get(name)                          <span data-reference="–ø–æ–ª—É—á–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ–ª—è —Å –∏–º–µ–Ω–µ–º name">i</span>
    formData.has(name)                          <span data-reference="–µ—Å–ª–∏ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ø–æ–ª–µ —Å –∏–º–µ–Ω–µ–º name, —Ç–æ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç true, –∏–Ω–∞—á–µ false">i</span>
    
    for(let [name, value] of formData) {        <span data-reference="–ü–æ–ª—è –æ–±—ä–µ–∫—Ç–∞ formData –º–æ–∂–Ω–æ –ø–µ—Ä–µ–±–∏—Ä–∞—Ç—å, –∏—Å–ø–æ–ª—å–∑—É—è —Ü–∏–∫–ª for..of">i</span>
        console.log(`${name} = ${value}`);
    }</pre>

    <h3 class="content-subheader">Fetch: —Ö–æ–¥ –∑–∞–≥—Ä—É–∑–∫–∏
        <a href="https://learn.javascript.ru/fetch-progress" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    const reader = response.body.getReader();           <span data-reference="–ü–æ–ª—É—á–∞–µ–º –ø–æ—Ç–æ–∫ –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–∑ —Ç–µ–ª–∞ –∑–∞–ø—Ä–æ—Å–∞">i</span>
    
    while(true) {                                       <span data-reference="–ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª, –ø–æ–∫–∞ –∏–¥—ë—Ç –∑–∞–≥—Ä—É–∑–∫–∞">i</span>
        const {done, value} = await reader.read();      <span data-reference="–†–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ await reader.read() ‚Äì —ç—Ç–æ –æ–±—ä–µ–∫—Ç —Å –¥–≤—É–º—è —Å–≤–æ–π—Å—Ç–≤–∞–º–∏, done —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è true –≤ –ø–æ—Å–ª–µ–¥–Ω–µ–º —Ñ—Ä–∞–≥–º–µ–Ω—Ç–µ, value - Uint8Array –∏–∑ –±–∞–π—Ç–æ–≤ –∫–∞–∂–¥–æ–≥–æ —Ñ—Ä–∞–≥–º–µ–Ω—Ç–∞">i</span>    
        if (done) break;

        console.log(`–ü–æ–ª—É—á–µ–Ω–æ ${value.length} –±–∞–π—Ç`)   
    }</pre>

    <h3 class="content-subheader">Fetch: –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–∞
        <a href="https://learn.javascript.ru/fetch-abort" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <h3 class="content-subheader">–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã AbortController:</h3>
    <pre data-formatted="js">
    const controller = new AbortController();
    const signal = controller.signal;

    signal.addEventListener('abort', () => {        <span data-reference="–ö–æ–¥ –∫–æ—Ç–æ—Ä—ã–π —Ö–æ—á–µ—Ç —É–∑–Ω–∞—Ç—å –æ –≤—ã–∑–æ–≤–µ abort(), —Å—Ç–∞–≤–∏—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –Ω–∞ controller.signal, —á—Ç–æ–±—ã –æ—Ç—Å–ª–µ–∂–∏–≤–∞—Ç—å –≤—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –æ—Ç–º–µ–Ω—ã.">i</span>
        console.log('All instructions aborted!');
    });

    console.log(signal.aborted);                    <span data-reference="–°–≤–æ–π—Å—Ç–≤–æ controller.signal.aborted –¥–æ –≤—ã–∑–æ–≤–∞ abort() - false">i</span>
    controller.abort();                             <span data-reference="–í—ã–∑–æ–≤ –º–µ—Ç–æ–¥–∞ –æ—Ç–º–µ–Ω—ã abort(), –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏—é —Å–ª—É—à–∞—Ç–µ–ª—è">i</span>
    console.log(signal.aborted);                    <span data-reference="–°–≤–æ–π—Å—Ç–≤–æ controller.signal.aborted –ø–æ—Å–ª–µ –≤—ã–∑–æ–≤–∞ abort() - true">i</span></pre>

    <h3 class="content-subheader">–û—Ç–º–µ–Ω–∞ fetch:</h3>
    <pre data-formatted="js">
    const controller = new AbortController();
    setTimeout(() => controller.abort(), 50);                   <span data-reference="–û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –∑–∞–ø—Ä–æ—Å–∞ fetch">i</span>

    (async () => {
        try {
            let response = await fetch(                         <span data-reference="–ú–µ—Ç–æ–¥ fetch —É–º–µ–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å —Å AbortController, –æ–Ω —Å–ª—É—à–∞–µ—Ç —Å–æ–±—ã—Ç–∏–µ abort –Ω–∞ signal">i</span>
                'https://jsonplaceholder.typicode.com/todos',
                {signal: controller.signal}                     <span data-reference="–ü–µ—Ä–µ–¥–∞–µ–º –æ–±—ä–µ–∫—Ç signal –æ–ø—Ü–∏–µ–π –≤ –º–µ—Ç–æ–¥ fetch">i</span>
            );
        } catch (error) {
            if(error.name === 'AbortError') {                   <span data-reference="–ö–æ–≥–¥–∞ fetch –æ—Ç–º–µ–Ω—è–µ—Ç—Å—è, –µ–≥–æ –ø—Ä–æ–º–∏—Å –∑–∞–≤–µ—Ä—à–∞–µ—Ç—Å—è —Å –æ—à–∏–±–∫–æ–π AbortError, –ø–æ—ç—Ç–æ–º—É –º—ã –¥–æ–ª–∂–Ω—ã –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å –µ—ë">i</span>
                console.log('Fetch aborted');
            } else {
                throw error;
            }
        }
    })();</pre>

    <h3 class="content-subheader">–û—Å—Ç–∞–Ω–æ–≤–∫–∞ –ø—Ä–æ—á–∏—Ö –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–¥–∞—á:</h3>
    <pre data-formatted="js">
    const controller = new AbortController();
    setTimeout(() => controller.abort(), 1000);                 <span data-reference="–û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –æ—Ç–º–µ–Ω–∞ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–π –∑–∞–¥–∞—á–∏">i</span>

    new Promise((resolve, reject) => {
        controller.signal.addEventListener('abort', reject);    <span data-reference="–ü–æ–¥–ø–∏—Å—ã–≤–∞–µ–º—Å—è –Ω–∞ –≤—ã–∑–æ–≤ abort(), –ø—Ä–∏ —ç—Ç–æ–º reject –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –æ–±—ä–µ–∫—Ç —Å–æ–±—ã—Ç–∏—è">i</span>
        setTimeout(() => resolve('It\'s done!'), 3000);         
    })
        .then(
            result => console.log(result),
            event => console.log(event.type)                    <span data-reference="–û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ–º –æ—Ç–º–µ–Ω—É –ø—Ä–æ–º–∏—Å–∞">i</span>
        );</pre>

    <h3 class="content-subheader">Fetch: –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–∞–π—Ç—ã
        <a href="https://learn.javascript.ru/fetch-crossorigin#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>

    <h3 class="content-subheader">Fetch API
        <a href="https://learn.javascript.ru/fetch-api" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    let promise = fetch(url, {
        method: 'GET',                                      <span data-reference="–ú–µ—Ç–æ–¥ –∑–∞–ø—Ä–æ—Å–∞ POST, PUT, DELETE, etc.">i</span>
        headers: {                                          <span data-reference="–ó–∞–≥–æ–ª–æ–≤–∫–∏ –æ–±—ã—á–Ω–æ —Å—Ç–∞–≤—è—Ç—Å—è –±—Ä–∞—É–∑–µ—Ä–æ–º, —Ä–∞–∑—Ä–µ—à–µ–Ω—ã Accept, Accept-Language, Content-Language, Content-Type —Å–æ –∑–Ω–∞—á–µ–Ω–∏–µ–º application/x-www-form-urlencoded, multipart/form-data –∏–ª–∏ text/plain">i</span>
            'Content-Type': 'text/plain;charset=UTF-8'
        },
        body: undefined,                                    <span data-reference="–¢–µ–ª–æ –∑–∞–ø—Ä–æ—Å–∞ string, FormData, Blob, BufferSource –∏–ª–∏ URLSearchParams">i</span>
        referrer: 'about:client',                           <span data-reference="–ò–ª–∏ '' –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –Ω–µ –ø–æ—Å–ª–∞—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ Referer, –∏–ª–∏ URL —Å —Ç–µ–∫—É—â–µ–≥–æ –∏—Å—Ç–æ—á–Ω–∏–∫–∞">i</span>
        referrerPolicy: 'no-referrer-when-downgrade',       <span data-reference="–ö–∞–∫ fetch —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç HTTP-–∑–∞–≥–æ–ª–æ–≤–æ–∫ Referer: 'no-referrer', 'no-referrer-when-downgrade', 'origin', 'origin-when-cross-origin', 'same-origin', 'strict-origin', 'strict-origin-when-cross-origin', 'unsafe-url'">i</span>
        mode: 'cors',                                       <span data-reference="–ó–∞—â–∏—Ç–∞ –æ—Ç –Ω–µ—á–∞—è–Ω–Ω–æ–π –æ—Ç–ø—Ä–∞–≤–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫: 'cors' ‚Äì –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥—Ä—É–≥–∏–µ —Å–∞–π—Ç—ã, 'same-origin' ‚Äì –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫ –∑–∞–ø—Ä–µ—â–µ–Ω—ã, 'no-cors' ‚Äì —Ä–∞–∑—Ä–µ—à–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å—Ç—ã–µ –∑–∞–ø—Ä–æ—Å—ã –Ω–∞ –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫.">i</span>
        credentials: 'same-origin',                         <span data-reference="–î–æ–ª–∂–µ–Ω –ª–∏ fetch –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∫—É–∫–∏ –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–æ–Ω–Ω—ã–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ HTTP –≤–º–µ—Å—Ç–µ —Å –∑–∞–ø—Ä–æ—Å–æ–º: 'same-origin' ‚Äì –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–ª—è –∑–∞–ø—Ä–æ—Å–æ–≤ –Ω–∞ –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫, 'include' ‚Äì –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –≤—Å–µ–≥–¥–∞, –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ Access-Control-Allow-Credentials –≤ –æ—Ç–≤–µ—Ç–µ –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞, 'omit' ‚Äì –Ω–µ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –Ω–∏ –ø—Ä–∏ –∫–∞–∫–∏—Ö –æ–±—Å—Ç–æ—è—Ç–µ–ª—å—Å—Ç–≤–∞—Ö">i</span>
        cache: 'default',                                   <span data-reference="–ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å HTTP-–∫–µ—à –∏–ª–∏ –∂–µ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ: 'default', 'no-store', 'reload', 'no-cache', 'force-cache', 'only-if-cached'">i</span>
        redirect: 'follow',                                 <span data-reference="–°–ª–µ–¥–æ–≤–∞–Ω–∏–µ HTTP-—Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º, —Ç–∞–∫–∏–º –∫–∞–∫ 301, 302: 'follow' ‚Äì —Å–ª–µ–¥–æ–≤–∞—Ç—å HTTP-—Ä–µ–¥–∏—Ä–µ–∫—Ç–∞–º, 'error' ‚Äì –æ—à–∏–±–∫–∞ –≤ —Å–ª—É—á–∞–µ HTTP-—Ä–µ–¥–∏—Ä–µ–∫—Ç–∞, 'manual' ‚Äì –Ω–µ —Å–ª–µ–¥–æ–≤–∞—Ç—å HTTP-—Ä–µ–¥–∏—Ä–µ–∫—Ç—É, –Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∞–¥—Ä–µ—Å —Ä–µ–¥–∏—Ä–µ–∫—Ç–∞ –≤ response.url, –∞ –≤ response.redirected –∑–Ω–∞—á–µ–Ω–∏–µ true">i</span>
        integrity: '',                                      <span data-reference="–ü–æ–∑–≤–æ–ª—è–µ—Ç –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –ª–∏ –æ—Ç–≤–µ—Ç –∏–∑–≤–µ—Å—Ç–Ω–æ–π –∑–∞—Ä–∞–Ω–µ–µ –∫–æ–Ω—Ç—Ä–æ–ª—å–Ω–æ–π —Å—É–º–º–µ">i</span>
        keepalive: 'false',                                 <span data-reference="–£–∫–∞–∑—ã–≤–∞–µ—Ç –Ω–∞ —Ç–æ, —á—Ç–æ –∑–∞–ø—Ä–æ—Å –º–æ–∂–µ—Ç ¬´–ø–µ—Ä–µ–∂–∏—Ç—å¬ª —Å—Ç—Ä–∞–Ω–∏—Ü—É, –∫–æ—Ç–æ—Ä–∞—è –µ–≥–æ –æ—Ç–ø—Ä–∞–≤–∏–ª–∞">i</span>
        signal: undefined,                                  <span data-reference="AbortController, —á—Ç–æ–±—ã –ø—Ä–µ—Ä–≤–∞—Ç—å –∑–∞–ø—Ä–æ—Å">i</span>
        window: window                                      <span data-reference="–û–±—å–µ–∫—Ç window –∏–ª–∏ null">i</span>
        });</pre>

    <h3 class="content-subheader">–û–±—ä–µ–∫—Ç—ã URL
        <a href="https://learn.javascript.ru/url" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    let url = new URL(url, [base]);

    url.origin, url.protocol, url.host
    url.hostname, url.port, url.pathname
    url.search, url.hash

    let url = new URL('https://google.com/search');
    let params = url.searchParams;

    params.append(name, value)      <span data-reference="–¥–æ–±–∞–≤–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ –∏–º–µ–Ω–∏">i</span>
    params.delete(name)             <span data-reference="—É–¥–∞–ª–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ –∏–º–µ–Ω–∏">i</span>
    params.get(name)                <span data-reference="–ø–æ–ª—É—á–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä –ø–æ –∏–º–µ–Ω–∏">i</span>
    params.getAll(name)             <span data-reference="–ø–æ–ª—É—á–∏—Ç—å –≤—Å–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º –∏–º–µ–Ω–µ–º name (—Ç–∞–∫–æ–µ –≤–æ–∑–º–æ–∂–Ω–æ, –Ω–∞–ø—Ä–∏–º–µ—Ä: ?user=John&user=Pete)">i</span>
    params.has(name)                <span data-reference="–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –ø–æ –∏–º–µ–Ω–∏">i</span>
    params.set(name, value)         <span data-reference="–∑–∞–¥–∞—Ç—å/–∑–∞–º–µ–Ω–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä">i</span>
    params.sort()                   <span data-reference="–æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –ø–æ –∏–º–µ–Ω–∏">i</span>

    for(let [name, value] of url.searchParams) {
        console.log(`${name}=${value}`); 
    }

    encodeURI(url)                  <span data-reference="–∫–æ–¥–∏—Ä—É–µ—Ç URL-–∞–¥—Ä–µ—Å —Ü–µ–ª–∏–∫–æ–º">i</span>
    decodeURI(url)                  <span data-reference="–¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç URL-–∞–¥—Ä–µ—Å —Ü–µ–ª–∏–∫–æ–º">i</span>
    encodeURIComponent(url)         <span data-reference="–∫–æ–¥–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç URL, –Ω–∞–ø—Ä–∏–º–µ—Ä, –ø–∞—Ä–∞–º–µ—Ç—Ä, —Ö–µ—à, –∏–º—è –ø—É—Ç–∏ –∏ —Ç.–ø">i</span>
    decodeURIComponent(url)         <span data-reference="–¥–µ–∫–æ–¥–∏—Ä—É–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç URL">i</span></pre>

    <h3 class="content-subheader">XMLHttpRequest
        <a href="https://learn.javascript.ru/xmlhttprequest#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <h3 class="content-subheader">–ü—Ä–∏–º–µ—Ä —Å –∑–∞–ø—Ä–æ—Å–æ–º GET:</h3>
    <pre data-formatted="js">
    function sendRequest() {
        let xhr = new XMLHttpRequest();                                     <span data-reference="–°–æ–∑–¥–∞—Ç—å XMLHttpRequest">i</span>                   
            xhr.open('GET', 'https://example.com');                         <span data-reference="–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ: xhr.open(method, URL, [async, user, password])">i</span>
            
            xhr.timeout = 10000;                                            <span data-reference="–ú—ã –º–æ–∂–µ–º —Ç–∞–∫–∂–µ —É–∫–∞–∑–∞—Ç—å —Ç–∞–π–º–∞—É—Ç ‚Äì –ø—Ä–æ–º–µ–∂—É—Ç–æ–∫ –≤—Ä–µ–º–µ–Ω–∏, –∫–æ—Ç–æ—Ä—ã–π –º—ã –≥–æ—Ç–æ–≤—ã –∂–¥–∞—Ç—å –æ—Ç–≤–µ—Ç">i</span>
            xhr.responseType = 'text';                                      <span data-reference="–ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–≤–æ–π—Å—Ç–≤–æ xhr.responseType, —á—Ç–æ–±—ã —É–∫–∞–∑–∞—Ç—å –æ–∂–∏–¥–∞–µ–º—ã–π —Ç–∏–ø –æ—Ç–≤–µ—Ç–∞: '', 'text', 'arraybuffer', 'blob', 'document', 'json'">i</span>
            xhr.setRequestHeader('Content-Type', 'application/json');       <span data-reference="–£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≥–æ–ª–æ–≤–æ–∫ –∑–∞–ø—Ä–æ—Å–∞ —Å –∏–º–µ–Ω–µ–º name –∏ –∑–Ω–∞—á–µ–Ω–∏–µ–º value">i</span>
            xhr.withCredentials = true;                                     <span data-reference="–ö—É–∫–∏ –∏ –∑–∞–≥–æ–ª–æ–≤–∫–∏ HTTP-–∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ –æ—Ç—Å—ã–ª–∞—é—Ç—Å—è –Ω–∞ –¥—Ä—É–≥–æ–π –∏—Å—Ç–æ—á–Ω–∏–∫. –î–µ—Ç–∞–ª–∏ –ø–æ –∑–∞–≥–æ–ª–æ–≤–∫–∞–º, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–∏ —ç—Ç–æ–º –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã, —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ –≥–ª–∞–≤–µ fetch.">i</span>
            setTimeout(() => xhr.abort(), 10);                              <span data-reference="–ï—Å–ª–∏ –º—ã –ø–µ—Ä–µ–¥—É–º–∞–ª–∏ –¥–µ–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å, –º–æ–∂–Ω–æ –æ—Ç–º–µ–Ω–∏—Ç—å –µ–≥–æ, –ø—Ä–∏ —ç—Ç–æ–º –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ abort">i</span>            
        
        xhr.on***                                                           <span data-reference="–í–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: loadstart, progress, abort, error, load, timeout, loadend">i</span>
        xhr.onload = function() {                                           <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç, –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–µ–Ω –∫–∞–∫–æ–π-–ª–∏–±–æ –æ—Ç–≤–µ—Ç, –≤–∫–ª—é—á–∞—è –æ—Ç–≤–µ—Ç—ã —Å HTTP-–æ—à–∏–±–∫–æ–π, –Ω–∞–ø—Ä–∏–º–µ—Ä 404.">i</span>
            if(xhr.status != 200) {                                         <span data-reference="status - –ö–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è HTTP (—á–∏—Å–ª–æ): 200, 404, 403 –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ, –º–æ–∂–µ—Ç –±—ã—Ç—å 0 –≤ —Å–ª—É—á–∞–µ, –µ—Å–ª–∏ –æ—à–∏–±–∫–∞ –Ω–µ —Å–≤—è–∑–∞–Ω–∞ —Å HTTP">i</span>
                alert(`–û—à–∏–±–∫–∞: ${xhr.status}: ${xhr.statusText}`);         <span data-reference="statusText - –°–æ–æ–±—â–µ–Ω–∏–µ –æ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ—Ç–≤–µ—Ç–∞ HTTP (—Å—Ç—Ä–æ–∫–∞): –æ–±—ã—á–Ω–æ OK –¥–ª—è 200, Not Found –¥–ª—è 404, Forbidden –¥–ª—è 403, –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.">i</span>
            } else {
                alert(`–ü–æ–ª—É—á–µ–Ω–æ: ${xhr.response.length} –±–∞–π—Ç`)              <span data-reference="response - —ç—Ç–æ –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å responseType –º–æ–∂–µ—Ç –±—ã—Ç—å ArrayBuffer, Blob, Document, JavaScript –æ–±—ä–µ–∫—Ç–æ–º (–¥–ª—è 'json'), –∏–ª–∏ —Å—Ç—Ä–æ–∫–æ–π, null –µ—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω –∏–ª–∏ –æ–∫–æ–Ω—á–µ–Ω —Å –æ—à–∏–±–∫–æ–π">i</span>
            }
        };

        xhr.onprogress = function(event) {                                  <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ –æ—Ç–≤–µ—Ç–∞, —Å–æ–æ–±—â–∞–µ—Ç –æ –ø—Ä–æ–≥—Ä–µ—Å—Å–µ">i</span>
            let text = '';
            if(event.lengthComputable) {                                    <span data-reference="event.lengthComputable —Ä–∞–≤–Ω–æ true, –µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏—Å—ã–ª–∞–µ—Ç –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Length">i</span>
                text = `–ü–æ–ª—É—á–µ–Ω–æ ${event.loaded} –∏–∑ ${event.total} –±–∞–π—Ç`;   <span data-reference="event.loaded - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –±–∞–π—Ç, event.total - –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –≤—Å–µ–≥–æ (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ lengthComputable —Ä–∞–≤–Ω–æ true)">i</span>
            } else {
                text = `–ü–æ–ª—É—á–µ–Ω–æ ${event.loaded} –±–∞–π—Ç`;
            } 
            counter.textContent = text;
        };

        xhr.onerror = function() {                                          <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞ –∑–∞–ø—Ä–æ—Å –Ω–µ –º–æ–∂–µ—Ç –±—ã—Ç—å –≤—ã–ø–æ–ª–Ω–µ–Ω, –Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è –∏–ª–∏ –Ω–µ–≤–∞–ª–∏–¥–Ω—ã–π URL">i</span>
            alert('–û—à–∏–±–∫–∞ –∑–∞–ø–æ—Å–∞!');
        };

        xhr.ontimeout = function() {                                        <span data-reference="–ï—Å–ª–∏ –∑–∞–ø—Ä–æ—Å –Ω–µ —É—Å–ø–µ–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–∏—Ç—å—Å—è –≤ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –≤—Ä–µ–º—è, —Ç–æ –æ–Ω –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è, –∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å–æ–±—ã—Ç–∏–µ timeout">i</span>
            alert('–í—Ä–µ–º—è –∑–∞–ø—Ä–æ—Å–∞ –≤—ã—à–ª–æ!');
        }

        xhr.onreadystatechange = function() {                               <span data-reference="–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –æ–±—ä–µ–∫—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞ –≥–µ–Ω–µ—Ä–∏—Ä—É—é—Ç —Å–æ–±—ã—Ç–∏–µ readystatechange">i</span>
            console.log(xhr.readyState);                                    <span data-reference="–°–æ—Å—Ç–æ—è–Ω–∏—è –æ–±—ä–µ–∫—Ç–∞ –∑–∞–ø—Ä–æ—Å–∞: UNSENT = 0 OPENED = 1 HEADERS_RECEIVED = 2 LOADING = 3 DONE = 4">i</span> 
            if(xhr.readyState === 2) {                                      <span data-reference="–ü–æ–ª—É—á–µ–Ω—ã –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞">i</span>
                console.log(xhr.getResponseHeader('Content-Type'));         <span data-reference="getResponseHeader(name) - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ –∑–∞–≥–æ–ª–æ–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ name (–∫—Ä–æ–º–µ Set-Cookie –∏ Set-Cookie2)">i</span>
                console.log(xhr.getAllResponseHeaders());                   <span data-reference="getAllResponseHeaders() - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –≤—Å–µ –∑–∞–≥–æ–ª–æ–≤–∫–∏ –æ—Ç–≤–µ—Ç–∞, –∫—Ä–æ–º–µ Set-Cookie –∏ Set-Cookie2, –≤ –≤–∏–¥–µ –µ–¥–∏–Ω–æ–π —Å—Ç—Ä–æ–∫–∏. –ú–µ–∂–¥—É –∑–∞–≥–æ–ª–æ–≤–∫–∞–º–∏ —Å—Ç–æ–∏—Ç –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ –≤ –¥–≤–∞ —Å–∏–º–≤–æ–ª–∞ '\r\n'">i</span>
            }
        }

        xhr.onabort = function() {                                          <span data-reference="–°–æ–±—ã—Ç–∏–µ abort, –ø—Ä–∏ –≤—ã–∑–æ–≤–µ xhr.abort()">i</span>
            alert('–ó–∞–ø—Ä–æ—Å –æ—Ç–º–µ–Ω–µ–Ω!');
            console.log(xhr.status);                                        <span data-reference="xhr.status —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ 0">i</span>
        }

        xhr.send();                                                         <span data-reference="–ü–æ—Å–ª–∞—Ç—å –∑–∞–ø—Ä–æ—Å">i</span>
    }</pre>

    <h3 class="content-subheader">–ü—Ä–∏–º–µ—Ä —Å –∑–∞–ø—Ä–æ—Å–æ–º POST</h3>
    <pre data-formatted="js">
    function sendRequest() {
        let formData = new FormData(form);
        let url = 'https://jsonplaceholder.typicode.com/posts';

        let xhr = new XMLHttpRequest();                                     <span data-reference="–°–æ–∑–¥–∞—Ç—å XMLHttpRequest">i</span>
            xhr.open('POST', url);                                          <span data-reference="–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –µ–≥–æ">i</span>
            xhr.setRequestHeader(                                           <span data-reference="–û–±—ã—á–Ω–æ —Ñ–æ—Ä–º–∞ –æ—Ç—Å—ã–ª–∞–µ—Ç—Å—è –≤ –∫–æ–¥–∏—Ä–æ–≤–∫–µ multipart/form-data">i</span> 
                'Content-type', 'application/json; charset=utf-8'           <span data-reference="–î–ª—è —Ñ–æ—Ä–º–∞—Ç–∞ JSON, –Ω—É–∂–Ω–æ –ø–æ—Å—Ç–∞–≤–∏—Ç—å –∑–∞–≥–æ–ª–æ–≤–æ–∫ Content-Type: application/json">i</span>
            );                          

        xhr.onload = () => {                                                <span data-reference="–ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–∞–Ω–Ω—ã—Ö, –º—ã –ø–æ–ª—É—á–∏–º –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –≤ xhr.response, –ø—Ä–∏ —ç—Ç–æ–º –ø—Ä–æ–∏–∑–æ–π–¥–µ—Ç —Å–æ–±—ã—Ç–∏–µ load">i</span>
            console.log(xhr.response);
        };

        xhr.upload.***                                                      <span data-reference="–í–æ–∑–º–æ–∂–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è: loadstart, progress, abort, error, load, timeout, loadend">i</span>
        xhr.upload.onloadstart = () => {                                    <span data-reference="–ù–∞—á–∞–ª–æ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö">i</span>
            console.log('–ó–∞–≥—Ä—É–∑–∫–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä –Ω–∞—á–∞–ª–∞—Å—å');
        };
        xhr.upload.onprogress = e => {                                      <span data-reference="–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏ –≤–æ –≤—Ä–µ–º—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä">i</span>
            console.log(`–ó–∞–≥—Ä—É–∂–µ–Ω–æ ${e.loaded} –∏–∑ ${e.total}`);             
        };          
        xhr.upload.onload = () => {                                         <span data-reference="–ó–∞–≥—Ä—É–∑–∫–∞ —É—Å–ø–µ—à–Ω–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∞">i</span>
            console.log('–î–∞–Ω–Ω—ã–µ —É—Å–ø–µ—à–Ω–æ –∑–∞–≥—Ä—É–∂–µ–Ω—ã');
        };
        xhr.upload.onerror = () => {                                        <span data-reference="–û—à–∏–±–∫–∞, –Ω–µ —Å–≤—è–∑–∞–Ω–Ω–∞—è —Å HTTP">i</span>
            console.log(`–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ ${xhr.status}`);
        };    
        
        xhr.send(formData);                                                 <span data-reference="–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö, –º–æ–∂–Ω–æ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å JSON, Blob, BufferSource, FormData, URLSearchParams, ReadableStream, –∏–ª–∏ –æ–±—ä–µ–∫—Ç USVString">i</span>
    }</pre>

    <h3 class="content-subheader">–í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ–º–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
        <a href="https://learn.javascript.ru/resume-upload" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    let fileId = `${file.name}-${file.size}-${file.lastModifiedDate}`;      <span data-reference="–°–æ–∑–¥–∞–¥–∏–º —É–Ω–∏–∫–∞–ª—å–Ω—ã–π –∏–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª–∞, –∫–æ—Ç–æ—Ä—ã–π —Å–æ–±–∏—Ä–∞–µ–º—Å—è –∑–∞–≥—Ä—É–∂–∞—Ç—å">i</span>

    let response = await fetch(url, {                                       <span data-reference="–ü–æ—Å—ã–ª–∞–µ–º –∑–∞–ø—Ä–æ—Å –∫ —Å–µ—Ä–≤–µ—Ä—É —Å –ø—Ä–æ—Å—å–±–æ–π —É–∫–∞–∑–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —É–∂–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã—Ö –±–∞–π—Ç–æ–≤">i</span>
        headers: {'X-File-Id': fileId}                                      <span data-reference="–°–µ—Ä–≤–µ—Ä —É—á–∏—Ç—ã–≤–∞–µ—Ç –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ —Ñ–∞–π–ª—ã —Å –ø–æ–º–æ—â—å—é –∑–∞–≥–æ–ª–æ–≤–∫–∞ X-File-Id">i</span>
    });
    let startByte = await +response.text();                                 <span data-reference="–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç–æ–≤, –ø–æ–ª—É—á–µ–Ω–Ω–æ–µ —Å–µ—Ä–≤–µ—Ä–æ–º —Ä–∞–Ω–µ–µ. –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–µ—Ä–≤–µ—Ä—É –Ω–µ–∏–∑–≤–µ—Å—Ç–µ–Ω, —Ç–æ –æ–Ω –æ—Ç–≤–µ—Ç–∏—Ç 0">i</span>

    let xhr = new XMLHttpRequest();
        xhr.open('POST', url);
        xhr.setRequestHeader('X-File-Id', fileId);                          <span data-reference="–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ç–æ—Ä —Ñ–∞–π–ª–∞, —á—Ç–æ–±—ã —Å–µ—Ä–≤–µ—Ä –∑–Ω–∞–ª, —á—Ç–æ –º—ã –∑–∞–≥—Ä—É–∂–∞–µ–º">i</span>
        xhr.setRequestHeader('X-Start-Byte', startByte);                    <span data-reference="–ù–æ–º–µ—Ä –±–∞–π—Ç–∞, –Ω–∞—á–∏–Ω–∞—è —Å –∫–æ—Ç–æ—Ä–æ–≥–æ –º—ã –±—É–¥–µ–º –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –¥–∞–Ω–Ω—ã–µ">i</span>
    xhr.upload.onprogress = e => {
        console.log(
            `Uploaded ${startByte + e.loaded} of ${startByte + e.total}`    
        );
    };
    xhr.send(file.slice(startByte));                                        <span data-reference="–ó–∞—Ç–µ–º –º—ã –∏—Å–ø–æ–ª—å–∑–æ–≤—É–µ–º –º–µ—Ç–æ–¥ slice –æ–±—ä–µ–∫—Ç–∞ Blob, —á—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ, –Ω–∞—á–∏–Ω–∞—è —Å–æ startByte –±–∞–π—Ç–∞">i</span></pre>

    <h3 class="content-subheader">–î–ª–∏–Ω–Ω—ã–µ –æ–ø—Ä–æ—Å—ã
        <a href="https://learn.javascript.ru/long-polling" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    async function subscribe() {
        let response = await fetch(url);            <span data-reference="–û—Ç–ø—Ä–∞–≤–∏—Ç—å –∑–∞–ø—Ä–æ—Å –Ω–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ">i</span>

        if(response.status == 502) {                <span data-reference="–°—Ç–∞—Ç—É—Å 502 - —ç—Ç–æ —Ç–∞–π–º–∞—É—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, –≤–æ–∑–º–æ–∂–µ–Ω, –∫–æ–≥–¥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ–∂–∏–¥–∞–ª–æ —Å–ª–∏—à–∫–æ–º –¥–æ–ª–≥–æ, –∏ —Å–µ—Ä–≤–µ—Ä –∑–∞–∫—Ä—ã–ª –µ–≥–æ">i</span>
            await subscribe();                      <span data-reference="–í–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ">i</span>
        } else if(response.status != 200) {         <span data-reference="–ö–∞–∫–∞—è-—Ç–æ –æ—à–∏–±–∫–∞, –ø–æ–∫–∞–∂–µ–º –µ—ë">i</span>
            showMessage(response.statusText);
            await new Promise(resolve =>    
                setTimeout(resolve, 1000)
            );
            await subscribe();                      <span data-reference="–ü–æ–¥–∫–ª—é—á–∏–º—Å—è —Å–Ω–æ–≤–∞ —á–µ—Ä–µ–∑ —Å–µ–∫—É–Ω–¥—É.">i</span>
        } else {
            let message = await response.text();    <span data-reference="–ü–æ–ª—É—á–∏–º –∏ –ø–æ–∫–∞–∂–µ–º —Å–æ–æ–±—â–µ–Ω–∏–µ">i</span>
            showMessage(message);
            await subscribe();                      <span data-reference="–ò —Å–Ω–æ–≤–∞ –≤—ã–∑–æ–≤–µ–º subscribe() –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è">i</span>
        }
    }</pre>

    <h3 class="content-subheader">WebSocket
        <a href="https://learn.javascript.ru/websocket#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    let socket = new WebSocket('wss://javascript.info');                <span data-reference="–°–æ–∑–¥–∞—Ç—å –æ–±—ä–µ–∫—Ç  WebSocket, —É–∫–∞–∑–∞–≤ –≤ url-–∞–¥—Ä–µ—Å–µ —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª ws –∏–ª–∏ wss">i</span>
        socket.bufferType = 'arraybuffer';                              <span data-reference="–ü—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö, —Ç–µ–∫—Å—Ç –ø–æ—Å—Ç—É–ø–∞–µ—Ç –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏. –î–ª—è –±–∏–Ω–∞—Ä–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å Blob –∏–ª–∏ ArrayBuffer, —É–∫–∞–∑–∞–≤ –≤ bufferType, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —Ä–∞–≤–Ω–æ 'blob'">i</span>

    socket.onopen = function (e) {                                      <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ">i</span>
        console.log(`–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: ${socket.readyState}`);    <span data-reference="socket.readyState - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, 0 ‚Äì 'CONNECTING': —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ, 1 ‚Äì 'OPEN': –æ–±–º–µ–Ω –¥–∞–Ω–Ω—ã–º–∏, 2 ‚Äì 'CLOSING': —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è, 3 ‚Äì 'CLOSED': —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ.">i</span>
        console.log('–û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä...');            
        socket.send('–ú–µ–Ω—è –∑–æ–≤—É—Ç –î–∂–æ–Ω');                                <span data-reference="–í—ã–∑–æ–≤ socket.send(body) –ø—Ä–∏–Ω–∏–º–∞–µ—Ç body –≤ –≤–∏–¥–µ —Å—Ç—Ä–æ–∫–∏ –∏–ª–∏ –ª—é–±–æ–º –±–∏–Ω–∞—Ä–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ –≤–∫–ª—é—á–∞—è Blob, ArrayBuffer –∏ –¥—Ä—É–≥–∏–µ, –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä.">i</span>

        setInterval(() => {                                             <span data-reference="–û—Ç–ø—Ä–∞–≤–∫–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –º–µ–¥–ª–µ–Ω–Ω–æ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–∏.">i</span>
            if(socket.bufferedAmount == 0) {                            <span data-reference="–°–≤–æ–π—Å—Ç–≤–æ socket.bufferedAmount —Ö—Ä–∞–Ω–∏—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –±–∞–π—Ç –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Ç–µ–∫—É—â–∏–π –º–æ–º–µ–Ω—Ç, –æ–∂–∏–¥–∞—é—â–∏—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏ –ø–æ —Å–µ—Ç–∏.">i</span>
                socket.send(data);
            }
        }, 100);
    };

    socket.onmessage = function (e) {                                   <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –ø–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ">i</span>
        console.log(`–î–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω—ã —Å —Å–µ—Ä–≤–µ—Ä–∞: ${e.data}`);            <span data-reference="–í e.data - –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ –ø–æ —Å–µ—Ç–∏. –Ø–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–æ–∫–æ–π (–µ—Å–ª–∏ —Ç–µ–∫—Å—Ç) –∏–ª–∏ arraybuffer/blob (–µ—Å–ª–∏ –¥–≤–æ–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)">i</span>
    };

    socket.onclose = function (e) {                                     <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ">i</span>
        if (e.wasClean) {                                               <span data-reference="–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç, true/false —á—Ç–æ —É–∫–∞–∑—ã–≤–∞–µ—Ç, –±—ã–ª–æ –ª–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ –ø–æ–ª–Ω–æ—Å—Ç—å—é">i</span>
            console.log('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –∑–∞–∫—Ä—ã—Ç–æ —á–∏—Å—Ç–æ');
            console.log(`–ö–æ–¥ ${e.code}, –ø—Ä–∏—á–∏–Ω–∞ ${e.reason}`);          <span data-reference="e.code ‚Äì —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π WebSocket-–∫–æ–¥ –∑–∞–∫—Ä—ã—Ç–∏—è, e.reason ‚Äì —Å—Ç—Ä–æ–∫–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è.">i</span>
        } else {
            console.log('–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Å–±—Ä–æ—à–µ–Ω–æ');
        }
    };

    socket.onerror = function (e) {                                     <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –µ—Å–ª–∏ –æ—à–∏–±–∫–∞">i</span>
        console.log(`[error] ${e.message}`);
    };

    setTimeout(() => {
        socket.close(1000, 'Work is done!');                            <span data-reference="–ú–µ—Ç–æ–¥ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, —à–∞–±–ª–æ–Ω - socket.close([code], [reason]) –≥–¥–µ code ‚Äì —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π WebSocket-–∫–æ–¥ –∑–∞–∫—Ä—ã—Ç–∏—è, reason ‚Äì —Å—Ç—Ä–æ–∫–∞ —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–∏—á–∏–Ω—ã –∑–∞–∫—Ä—ã—Ç–∏—è">i</span>
    }, 5000);</pre>
    <a href="https://tools.ietf.org/html/rfc6455#section-7.4.1" class="outside-link" target="_blank">
        –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–¥–æ–≤ –∑–∞–∫—Ä—ã—Ç–∏—è WebSocket
    </a>

    <h3 class="content-subheader">Server Sent Events
        <a href="https://learn.javascript.ru/server-sent-events#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    let eventSource;

    function connect() {                                                <span data-reference="–§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É">i</span>
        if(window.EventSource) {                                        <span data-reference="Internet Explorer –∏–ª–∏ —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –±—Ä–∞—É–∑–µ—Ä—ã">i</span>
            alert('Browser doesn\'t support EventSource');
            return;
        }
        eventSource = new EventSource('url');                           <span data-reference="–ß—Ç–æ–±—ã –Ω–∞—á–∞—Ç—å –ø–æ–ª—É—á–∞—Ç—å –¥–∞–Ω–Ω—ã–µ, –Ω—É–∂–Ω–æ —Å–æ–∑–¥–∞—Ç—å new EventSource(url).">i</span>

        eventSource.addEventListener('open', e => {                     <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –æ—Ç–∫—Ä—ã—Ç–æ">i</span>
            log('Event: open');
        });

        eventSource.addEventListener('message', e => {                  <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞ –ø–æ–ª—É—á–µ–Ω–æ —Å–æ–æ–±—â–µ–Ω–∏–µ">i</span>
            log(`Event: message, data: ${e.data}`);                     <span data-reference="–ü–æ–ª—É—á–µ–Ω–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ e.data">i</span>
            log(`Last message: ${eventSource.lastEventId}`);            <span data-reference="eventSource.lastEventId - id –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –ø–æ–ª—É—á–µ–Ω–Ω–æ–≥–æ —Å–æ–æ–±—â–µ–Ω–∏—è. –ü—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ –±—Ä–∞—É–∑–µ—Ä –ø–æ—Å—ã–ª–∞–µ—Ç –µ–≥–æ –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ Last-Event-ID">i</span>
        });

        eventSource.addEventListener('error', function(e) {             <span data-reference="–°–æ–±—ã—Ç–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∫–æ–≥–¥–∞ –Ω–µ —É–¥–∞–ª–æ—Å—å —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ, –Ω–∞–ø—Ä–∏–º–µ—Ä, —Å–µ—Ä–≤–µ—Ä –≤–µ—Ä–Ω—É–ª —Å—Ç–∞—Ç—É—Å 500">i</span>
            log('Event: error');
            if(this.readyState === EventSource.CONNECTING) {            <span data-reference="–ú—ã –º–æ–∂–µ–º –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–≤–æ–π—Å—Ç–≤—É readyState, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ª–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ">i</span>
                log(`Reconnecting (readyState=${this.readyState})`);    <span data-reference="readyState - —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: EventSource.CONNECTING (=0), EventSource.OPEN (=1) –∏–ª–∏ EventSource.CLOSED (=2)">i</span>
            } else {
                log('Event: error');
            }
        });

        eventSource.addEventListener('bye', e => {                      <span data-reference="–°–µ—Ä–≤–µ—Ä –º–æ–∂–µ—Ç –≤—ã—Å—Ç–∞–≤–∏—Ç—å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ —Å –ø–æ–º–æ—â—å—é event:. –¢–∞–∫–∏–µ —Å–æ–±—ã—Ç–∏—è –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã —Å –ø–æ–º–æ—â—å—é addEventListener, –∞ –Ω–µ onevent">i</span>
            log(`Event: bye, data: ${e.data}`);                         
        });
    }

    function disconnect() {                                             <span data-reference="–§—É–Ω–∫—Ü–∏—è –¥–ª—è –æ—Ç–∫–ª—é—á–µ–Ω–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞">i</span>
        eventSource.close();                                            <span data-reference="–ú–µ—Ç–æ–¥ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.">i</span>
        log('Event: connection closed');
    }

    function log(message) {
        logElem.innerHTML += message + '</br>';
        document.documentElement.scrollTop = 999999999;                 
    }
    </pre>
    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω–µ—Ü -->

    <!-- –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—Ä–µ–π–º–∞ -->
    <div class="content-navigation">
        <p class="section-indicator">Browser</p>   
        <button class="navigation-button" id="navigation-back">‚óÄ</button>
        <button class="navigation-button" id="navigation-reload">üóò</button>
        <button class="navigation-button" id="navigation-next">‚ñ∂</button>
    </div>
    <p id="reference-display"></p>
    <script src="../../../js/content.js"></script> 
</body>
</html>