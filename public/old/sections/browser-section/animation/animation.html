<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ê–Ω–∏–º–∞—Ü–∏—è</title>
    <link rel="stylesheet" href="../../../css/common-styles.css">
    <link rel="stylesheet" href="../../../css/content-styles.css">
</head>
<body>

    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –Ω–∞—á–∞–ª–æ -->
    <!-- 
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∫–æ–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
        <pre data-formatted="js">code</pre>
        —Å–Ω–∏–ø–ø–µ—Ç - pref
        
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Å–ø—Ä–∞–≤–æ—á–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å 
         <span data-reference="–°–ø—Ä–∞–≤–æ—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è">i</span>
        —Å–Ω–∏–ø–ø–µ—Ç - inf

        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–æ–¥–∑–∞–≥–æ–ª–æ–≤–∫–∞ - subh
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞ - text
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–Ω–µ—à–Ω–µ–π —Å—Å—ã–ª–∫–∏ - olink
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –º–∞—Ä–∫–µ—Ä–∞ - mlink
        –î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è - coimg
    -->     
    
    <h2 class="content-header">–ê–Ω–∏–º–∞—Ü–∏—è</h2>
    <h3 class="content-subheader">–ö—Ä–∏–≤—ã–µ –ë–µ–∑—å–µ
        <a href="https://learn.javascript.ru/bezier-curve#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <h3 class="content-subheader">CSS-–∞–Ω–∏–º–∞—Ü–∏–∏
        <a href="https://learn.javascript.ru/css-animations#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>  
    <a href="http://cubic-bezier.com/" class="outside-link" target="_blank">
        –ö—Ä–∏–≤—ã–µ –ë–µ–∑—å–µ
    </a>
    <pre data-formatted="css">
    .circle {
        transition: all 3s steps(3, start);     <span data-reference="steps(–∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —à–∞–≥–æ–≤[, start/end]) –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ä–∞–∑–¥–µ–ª–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é –Ω–∞ —à–∞–≥–∏.">i</span>
    }</pre>
    <pre data-formatted="js">
    const coin = document.getElementById('coin');
    let switcher = true;

    function animate() {
        if(switcher) {
            coin.style.transform = 'rotate3d(0, 1, 0, 180deg)';
            switcher = false;
        } else {
            coin.style.transform = 'rotate3d(0, 1, 0, 0deg)';
            switcher = true;
        }
    }

    coin.addEventListener('click', animate);
    coin.addEventListener('transitionstart', e => {     <span data-reference="–°–æ–±—ã—Ç–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –Ω–∞—á–∞–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏">i</span>
        console.log(`Start, ${e.propertyName}`);        <span data-reference="e.propertyName - –∏–º—è —Å–≤–æ–π—Å—Ç–≤–∞, –∞–Ω–∏–º–∞—Ü–∏—è –∫–æ—Ç–æ—Ä–æ–≥–æ –Ω–∞—á–∞–ª–∞—Å—å">i</span>
    });
    coin.addEventListener('transitionend', e => {       <span data-reference="–°–æ–±—ã—Ç–∏–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø—Ä–∏ –æ–∫–æ–Ω—á–∞–Ω–∏–∏ –∞–Ω–∏–º–∞—Ü–∏–∏">i</span>
        console.log(`End, ${e.elapsedTime}`);           <span data-reference="e.elapsedTime - –≤—Ä–µ–º—è (–≤ —Å–µ–∫—É–Ω–¥–∞—Ö), –∫–æ—Ç–æ—Ä–æ–µ –∑–∞–Ω—è–ª–∞ –∞–Ω–∏–º–∞—Ü–∏—è, –±–µ–∑ —É—á—ë—Ç–∞ transition-delay">i</span>
        animate();
    });</pre>

    <pre data-formatted="css">
    @keyframes rotating {
        0% {transform: rotate3d(0,1,0, 0deg);}
        50% {transform: rotate3d(0,1,0, 180deg);}
        0% {transform: rotate3d(0,1,0, 360deg);}
        }
    #coin {                
        animation-name: rotating;
        animation-duration: 1s;
        animation-timing-function: ease-in-out;
        animation-iteration-count: 10;
    }</pre>

    <h3 class="content-subheader">JavaScript-–∞–Ω–∏–º–∞—Ü–∏–∏
        <a href="https://learn.javascript.ru/js-animation#itogo" class="marked-link" target="_blank">‚û•</a>
    </h3>
    <pre data-formatted="js">
    let startTime = performance.now();                  <span data-reference="–ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏, –ø—Ä–æ—à–µ–¥—à–µ–≥–æ —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö">i</span>

    let requestId = requestAnimationFrame(time => {     <span data-reference="–í—ã–∑–æ–≤ requestAnimationFrame –ø–ª–∞–Ω–∏—Ä—É–µ—Ç –∑–∞–ø—É—Å–∫ —Ñ—É–Ω–∫—Ü–∏–∏ callback –Ω–∞ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è, –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä —Å–æ—á—Ç—ë—Ç –≤–æ–∑–º–æ–∂–Ω—ã–º –æ—Å—É—â–µ—Å—Ç–≤–∏—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é. time ‚Äì –≤—Ä–µ–º—è –ø—Ä–æ—à–µ–¥—à–µ–µ —Å –º–æ–º–µ–Ω—Ç–∞ –Ω–∞—á–∞–ª–∞ –∑–∞–≥—Ä—É–∑–∫–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö">i</span>
        if(time < 10) {
            element.style.width = '300px';
        }
    });

    cancelAnimationFrame(requestId);                    <span data-reference="–ó–Ω–∞—á–µ–Ω–∏–µ requestId –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ—Ç–º–µ–Ω—ã –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–∏">i</span></pre>

    <h3 class="content-subheader">–®–∞–±–ª–æ–Ω —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏</h3>
    <pre data-formatted="js">
    function animate({timing, draw, duration}) {            <span data-reference="duration ‚Äì –æ–±—â–∞—è –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞–Ω–∏–º–∞—Ü–∏–∏ –≤ –º–∏–ª–ª–∏—Å–µ–∫—É–Ω–¥–∞—Ö. timing ‚Äì —Ñ—É–Ω–∫—Ü–∏—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∞–Ω–∏–º–∞—Ü–∏–∏. –ü–æ–ª—É—á–∞–µ—Ç –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –æ—Ç 0 –¥–æ 1, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø—Ä–æ–≥—Ä–µ—Å—Å –∞–Ω–∏–º–∞—Ü–∏–∏, –æ–±—ã—á–Ω–æ —Ç–æ–∂–µ –æ—Ç 0 –¥–æ 1. draw ‚Äì —Ñ—É–Ω–∫—Ü–∏—è –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–∏.">i</span>
        let start = performance.now();                      <span data-reference="–ü–æ–ª—É—á–∏—Ç—å –≤—Ä–µ–º—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–∏–º–∞—Ü–∏–∏">i</span>

        requestAnimationFrame(function act(time) {          <span data-reference="–ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å –æ—Ç—Ä–∏—Å–æ–≤–∫—É —á–∞—Å—Ç–∏ –∞–Ω–∏–º–∞—Ü–∏–∏">i</span>
            let timeFraction = time - start / duration;     <span data-reference="–û–ø—Ä–µ–¥–µ–ª–∏—Ç—å –∫–∞–∫–∞—è –¥–æ–ª—è –∞–Ω–∏–º–∞—Ü–∏–∏ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å –ø—Ä–æ–∏–≥—Ä–∞–Ω–∞ –æ—Ç 0 –¥–æ 1">i</span>
            if(timeFraction > 1) {                          <span data-reference="–ï—Å–ª–∏ —ç—Ç–∞ –¥–æ–ª—è –±–æ–ª—å—à–µ 1, —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ 1">i</span>    
                timeFraction = 1;
            }

            let progress = timing(timeFraction);            <span data-reference="–í—ã–∑–≤–∞—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é –∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –¥–æ–ª—é –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∞–Ω–∏–º–∞—Ü–∏–∏ –æ—Ç 0 –¥–æ 1 –¥–ª—è —Ç–µ–∫—É—â–µ–π –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–æ–ª–∏ –∞–Ω–∏–º–∞—Ü–∏–∏">i</span>
            draw(progress);                                 <span data-reference="–û—Ç—Ä–∏—Å–æ–≤–∞—Ç—å –∞–Ω–∏–º–∞—Ü–∏—é, –≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω–æ–π –¥–æ–ª–µ–π –ø—Ä–æ–≥—Ä–µ—Å—Å–∞">i</span>

            if(timeFraction < 1) {                          <span data-reference="–ï—Å–ª–∏ –¥–æ–ª—è –≤—Ä–µ–º–µ–Ω–∏ –º–µ–Ω—å—à–µ 1 - –∞–Ω–∏–º–∞—Ü–∏—è –µ—â–µ –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∞, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞—Ç—å —Å–ª–µ–¥—É—é—â—É—é –æ—Ç—Ä–∏—Å–æ–≤–∫—É –∞–Ω–∏–º–∞—Ü–∏–∏">i</span>
                requestAnimationFrame(act);
            }
        });
    }</pre>

    <h3 class="content-subheader">–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏</h3>
    <pre data-formatted="js">
    // –õ–∏–Ω–µ–π–Ω–∞—è line
    function timing(timeFraction) {
        return timeFraction;
    }

    // –ö–≤–∞–¥—Ä–∞—Ç–∏—á–Ω–∞—è quad
    function timing(timeFraction) {
        return Math.pow(timeFraction, 2);
    }

    // –ö—É–±–∏—á–µ—Å–∫–∞—è cubic
    function timing(timeFraction) {
        return Math.pow(timeFraction, 3);
    }

    // –î—É–≥–∞ circ
    function timing(timeFraction) {
        return 1 - Math.sin(Math.acos(timeFraction));
    }

    // –í—ã—Å—Ç—Ä–µ–ª –∏–∑ –ª—É–∫–∞ back
    function timing(timeFraction) {
        let x = 1.5;
        return Math.pow(timeFraction, 2) * ((x + 1) * timeFraction - x);
    }

    // –û—Ç—Å–∫–æ–∫–∏ bounce 
    function timing(timeFraction) {
        for (let a = 0, b = 1, result; 1; a += b, b /= 2) {
            if (timeFraction >= (7 - 4 * a) / 11) {
                return -Math.pow((11 - 6 * a - 11 * timeFraction) / 4, 2) + Math.pow(b, 2)
            }
        }
    }

    // –≠–ª–∞—Å—Ç–∏—á–Ω–∞—è 
    function timing(timeFraction) {
        let x = 1.5;
        return Math.pow(2, 10 * (timeFraction - 1)) * Math.cos(20 * Math.PI * x / 3 * timeFraction)
    }

    // –û–±—Ä–∞—Ç–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è easeOut
    function makeEaseOut(timing) {
        return function(timeFraction) {
            return 1 - timing(1 - timeFraction);
        };
    } 
    
    // –î–≤–æ–π–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è easeInOut
    function makeEaseInOut(timing) {
        return function(timeFraction) {
            if(timeFraction < 0.5) {
                return timing(2 * timeFraction) / 2;
            } else {
                return (2-timing(2 * (1 - timeFraction))) / 2;
            }
        };
    }</pre>


    <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –∫–æ–Ω–µ—Ü -->

    <!-- –ü–∞–Ω–µ–ª—å –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –≤–Ω—É—Ç—Ä–∏ —Ñ—Ä–µ–π–º–∞ -->
    <div class="content-navigation">
        <p class="section-indicator">Browser</p>   
        <button class="navigation-button" id="navigation-back">‚óÄ</button>
        <button class="navigation-button" id="navigation-reload">üóò</button>
        <button class="navigation-button" id="navigation-next">‚ñ∂</button>
    </div>
    <p id="reference-display"></p>
    <script src="../../../js/content.js"></script> 
</body>
</html>